KCPSM6 Assembler log file for program 'C:\Users\nbagewad\Desktop\UCSC_Extension_Verilog_FPGA\verilog_codes\picoblaze\picoblaze_verilog_assy_codes\prog_rom.psm'.
Generated by KCPSM6 version v2.70
Ken Chapman - Xilinx Ltd - 16th May 2014

Assembly datestamp: 18 Mar 2016
Assembly timestamp: 17:39:41

Contents
  Assembly listing
  List of PSM files
  List of CONSTANTs
  List of TABLEs
  List of STRINGs
  List of line labels
  Instruction usage statistics


Last occupied address: 02D hex
Nominal program memory size: 1K (1024)   address(9:0)
Actual memory size: 4096
  (Default memory size)
Occupied memory locations: 46
Memory locations available: 4050


Assembly listing

 Addr Code                    Instruction

 000                          ;#######################################################
 000                          ; sum16
 000                          ;#######################################################
 000                          ; #define statements
 000                          CONSTANT INPUTPORT_LSB, 00                    ; port_id = 0, read sw7-sw0
 000                          CONSTANT INPUTPORT_MSB, 01                    ; port_id = 1, read sw15-sw8
 000                          CONSTANT OUTPUTPORT_BYTE0, 02                 ; port_id = 2, when putting 8-bit LSB on out_port
 000                          CONSTANT OUTPUTPORT_BYTE1, 03                 ; port_id = 3, when putting 8-bit on out_port
 000                          CONSTANT OUTPUTPORT_BYTE2, 04                 ; port_id = 4, when putting 8-bit on out_port
 000                          CONSTANT OUTPUTPORT_BYTE3, 05                 ; port_id = 5, when putting 8-bit MSB on out_port
 000                          ; register alias
 000                          NAMEREG s0, indata_lsb                        ; read from input port sw7 - sw0
 000                          NAMEREG s1, indata_msb                        ; read from input port sw15 - sw8
 000                          NAMEREG s2, scratch_lsb                       ; lsb scratchpad
 000                          NAMEREG s3, scratch_msb                       ; msb scratchpad
 000                          NAMEREG s4, answer_byte0                      ; byte 0 of answer
 000                          NAMEREG s5, answer_byte1                      ; byte 1 of answer
 000                          NAMEREG s6, answer_byte2                      ; byte 2 of answer
 000                          NAMEREG s7, answer_byte3                      ; byte 3 of answer
 000                          ;#######################################################
 000                          ; Main Program
 000                          ;#######################################################
 000                    loop: 
 000  20004                   CALL 004[read_switch]
 001  2000C                   CALL 00C[compute_sum]
 002  20007                   CALL 007[display]
 003  22000                   JUMP 000[loop]
 004             read_switch: 
 004  09000                   INPUT s0[indata_lsb], 00[INPUTPORT_LSB]
 005  09101                   INPUT s1[indata_msb], 01[INPUTPORT_MSB]
 006  25000                   RETURN 
 007                 display: 
 007  2D402                   OUTPUT s4[answer_byte0], 02[OUTPUTPORT_BYTE0]
 008  2D503                   OUTPUT s5[answer_byte1], 03[OUTPUTPORT_BYTE1]
 009  2D604                   OUTPUT s6[answer_byte2], 04[OUTPUTPORT_BYTE2]
 00A  2D705                   OUTPUT s7[answer_byte3], 05[OUTPUTPORT_BYTE3]
 00B  25000                   RETURN 
 00C             compute_sum: 
 00C  00200                   LOAD s2[scratch_lsb], s0[indata_lsb]
 00D  00310                   LOAD s3[scratch_msb], s1[indata_msb]
 00E  00400                   LOAD s4[answer_byte0], s0[indata_lsb]
 00F  01500                   LOAD s5[answer_byte1], 00
 010  01600                   LOAD s6[answer_byte2], 00
 011  01700                   LOAD s7[answer_byte3], 00
 012  1D100                   COMPARE s1[indata_msb], 00
 013  36017                   JUMP NZ, 017[check_if_1]
 014  1D000                   COMPARE s0[indata_lsb], 00
 015  36017                   JUMP NZ, 017[check_if_1]
 016  25000                   RETURN 
 017              check_if_1: 
 017  1D100                   COMPARE s1[indata_msb], 00
 018  3601C                   JUMP NZ, 01C[begin_computing]
 019  1D001                   COMPARE s0[indata_lsb], 01
 01A  3601C                   JUMP NZ, 01C[begin_computing]
 01B  25000                   RETURN 
 01C         begin_computing: 
 01C  01400                   LOAD s4[answer_byte0], 00
 01D  01500                   LOAD s5[answer_byte1], 00
 01E  01600                   LOAD s6[answer_byte2], 00
 01F  01700                   LOAD s7[answer_byte3], 00
 020               add_until: 
 020  10420                   ADD s4[answer_byte0], s2[scratch_lsb]
 021  12530                   ADDCY s5[answer_byte1], s3[scratch_msb]
 022  3E026                   JUMP NC, 026[dec_scratch_reg]
 023  13600                   ADDCY s6[answer_byte2], 00
 024  3E026                   JUMP NC, 026[dec_scratch_reg]
 025  13700                   ADDCY s7[answer_byte3], 00
 026         dec_scratch_reg: ; ////////////// check for 02_01 and 01_01 and 00_01
 026  1D200                   COMPARE s2[scratch_lsb], 00
 027  3602C                   JUMP NZ, 02C[PPPP]
 028  1D300                   COMPARE s3[scratch_msb], 00
 029  3602B                   JUMP NZ, 02B[NNNN]
 02A  25000                   RETURN                                        ; scratch_lsb & scratch_msb are both 0, computation is over!
 02B                    NNNN: 
 02B  19301                   SUB s3[scratch_msb], 01
 02C                    PPPP: 
 02C  19201                   SUB s2[scratch_lsb], 01
 02D  22020                   JUMP 020[add_until]


All unused memory locations contain zero (equivalent to 'LOAD s0, s0')



List of PSM files that have been assembled

C:\Users\nbagewad\Desktop\UCSC_Extension_Verilog_FPGA\verilog_codes\picoblaze\picoblaze_verilog_assy_codes\prog_rom.psm



List of defined constants

 CONSTANT name     Value        Source PSM File

 timestamp_hours   17'd         
 timestamp_minutes 39'd         
 timestamp_seconds 41'd         
 datestamp_year    16'd         
 datestamp_month   3'd          
 datestamp_day     18'd         
 NUL               00           
 BEL               07           
 BS                08           
 HT                09           
 LF                0A           
 VT                0B           
 CR                0D           
 ESC               1B           
 DEL               7F           
 DCS               90           
 ST                9C           
 INPUTPORT_LSB     00           prog_rom.psm
 INPUTPORT_MSB     01           prog_rom.psm
 OUTPUTPORT_BYTE0  02           prog_rom.psm
 OUTPUTPORT_BYTE1  03           prog_rom.psm
 OUTPUTPORT_BYTE2  04           prog_rom.psm
 OUTPUTPORT_BYTE3  05           prog_rom.psm



No TABLEs defined



List of text strings

 STRING name       String         Source PSM File

 KCPSM6_version$   "v2.70"        
 datestamp$        "18 Mar 2016"  
 timestamp$        "17:39:41"     



List of line labels

   Label             Addr  Source PSM File

   loop              000   prog_rom.psm
   read_switch       004   prog_rom.psm
   display           007   prog_rom.psm
   compute_sum       00C   prog_rom.psm
   check_if_1        017   prog_rom.psm
   begin_computing   01C   prog_rom.psm
   add_until         020   prog_rom.psm
   dec_scratch_reg   026   prog_rom.psm
   NNNN              02B   prog_rom.psm
   PPPP              02C   prog_rom.psm



Instruction usage statistics

 Instruction    Instances

 LOAD             10
 STAR              -

 AND               -
 OR                -
 XOR               -

 ADD               1
 ADDCY             3
 SUB               2
 SUBCY             -

 TEST              -
 TESTCY            -
 COMPARE           6
 COMPARECY         -

 SL0               -
 SL1               -
 SLX               -
 SLA               -
 RL                -
 SR0               -
 SR1               -
 SRX               -
 SRA               -
 RR                -

 REGBANK           -

 INPUT             2
 OUTPUT            4
 OUTPUTK           -

 STORE             -
 FETCH             -

 DISABLE           -
 ENABLE            -
 RETURNI           -

 JUMP             10
 JUMP@             -
 CALL              3
 CALL@             -
 RETURN            5
 LOAD&RETURN       -

 HWBUILD           -



End of KCPSM6 log file.
